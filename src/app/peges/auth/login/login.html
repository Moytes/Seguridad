<p-toast />

<div class="auth-container">
    <p-card>
        <div class="auth-header">
            <div class="auth-icon">
                <i class="pi pi-sign-in"></i>
            </div>
            <h2>Iniciar Sesión</h2>
            <p>Ingresa tus credenciales para acceder</p>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onLogin()" class="auth-form">
            <div class="field">
                <label for="email">Correo Electrónico</label>
                <input id="email" type="email" pInputText placeholder="tu@email.com" formControlName="email"
                    [class.ng-invalid]="f.email.invalid && (f.email.touched || submitted())"
                    [class.ng-dirty]="f.email.touched || submitted()" />
                @if (f.email.invalid && (f.email.touched || submitted())) {
                @if (f.email.errors?.['required']) {
                <p-message severity="error" size="small" variant="simple">El correo es obligatorio</p-message>
                } @else if (f.email.errors?.['email']) {
                <p-message severity="error" size="small" variant="simple">Ingresa un correo válido</p-message>
                }
                }
            </div>

            <div class="field">
                <label for="password">Contraseña</label>
                <p-password id="password" formControlName="password" placeholder="••••••••" [toggleMask]="true"
                    [feedback]="false" [maxLength]="10" styleClass="w-full" inputStyleClass="w-full" />
                @if (f.password.invalid && (f.password.touched || submitted())) {
                @if (f.password.errors?.['required']) {
                <p-message severity="error" size="small" variant="simple">La contraseña es obligatoria</p-message>
                } @else if (f.password.errors?.['minlength']) {
                <p-message severity="error" size="small" variant="simple">Mínimo 6 caracteres</p-message>
                } @else if (f.password.errors?.['maxlength']) {
                <p-message severity="error" size="small" variant="simple">Máximo 10 caracteres</p-message>
                }
                }
            </div>

            <p-button label="Iniciar Sesión" icon="pi pi-sign-in" type="submit" severity="primary"
                styleClass="w-full" />
        </form>

        <div class="auth-footer">
            <p>¿No tienes cuenta? <a routerLink="/register">Regístrate aquí</a></p>
            <p><a routerLink="/">← Volver al inicio</a></p>
        </div>
    </p-card>
</div>